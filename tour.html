<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tournament Bag</title>
    <link rel="stylesheet" href="Main/styles/styles.css">
    <link rel="stylesheet" href="Main/styles/tour.css">

    <div class="back-tour-button">
        <a href="../">Back Home</a>
    </div>
    <style>
        .bag-container { max-width: 900px; margin: auto; text-align: center; }
        .bag-item { margin: 20px; }
        .bag-item img { width: 180px; border-radius: 10px; }
        .bag-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        .hidden-data { display:none; }
    </style>
</head>
<body>
    <div class="bag-container">
        <h1>My Tournament Bag</h1>

        <!-- ✅ Editable list of balls -->
        <div id="bagList" class="hidden-data">
            Tzone-b
            Purple-14-h
            Anger-h
            Black-m
            Jackal-m
            Thrill-m
            Raptor-m
        
        </div>
        <!-- ✅ End editable section -->

        <div id="bagDisplay" class="bag-grid"></div>
    </div>

    <!-- ✅ Hidden iframe to read index.html -->
    <iframe src="index.html" id="dataFrame" style="display:none;"></iframe>

    <script>
        let ballData = {};

        // Read the balls from index.html after iframe loads
        document.getElementById("dataFrame").onload = () => {
            const doc = document.getElementById("dataFrame").contentDocument;
            const items = doc.querySelectorAll(".ball-item[data-id]");

            items.forEach(div => {
                const id = div.dataset.id.toLowerCase();
                ballData[id] = {
                    name: div.dataset.name,
                    img: div.dataset.img,
                    link: div.dataset.link
                };
            });

            loadBag();
        };

        function loadBag() {
            const rawList = document.getElementById("bagList").innerText.trim().split("\n");
            const bagDisplay = document.getElementById("bagDisplay");
            bagDisplay.innerHTML = "";

            rawList.forEach(line => {
                const clean = line.trim().toLowerCase().replace(" ", "");
                if (ballData[clean]) {
                    const b = ballData[clean];
                    const div = document.createElement("div");
                    div.classList.add("bag-item");

                    div.innerHTML = `
                        <a href="${b.link}">
                            <img src="${b.img}" alt="${b.name}">
                        </a>
                        <p>${b.name}</p>
                    `;

                    bagDisplay.appendChild(div);
                }
            });
        }
    </script>
</body>
</html>
